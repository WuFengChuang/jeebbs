webpackJsonp([0],{1015:function(t,e,i){function n(t){i(1346)}var a=i(99)(i(1127),i(1432),n,"data-v-ce988bc8",null);t.exports=a.exports},1063:function(t,e,i){"use strict";function n(t){return i.i($.a)({url:"/api/admin/group/list",method:"post",signValidate:!1,data:t})}function a(t){return i.i($.a)({url:"/api/admin/group/delete",method:"post",signValidate:!0,data:t})}function o(t){return i.i($.a)({url:"/api/admin/group/get",method:"post",signValidate:!1,data:t})}function r(t){return i.i($.a)({url:"/api/admin/group/update",method:"post",signValidate:!0,data:t})}function s(t){return i.i($.a)({url:"/api/admin/group/save",method:"post",signValidate:!0,data:t})}function u(t){return i.i($.a)({url:"/api/admin/user/list",method:"post",signValidate:!1,data:t})}function l(t){return i.i($.a)({url:"/api/admin/user/official_list",method:"post",signValidate:!1,data:t})}function c(t){return i.i($.a)({url:"/api/admin/user/get",method:"post",signValidate:!1,data:t})}function f(t){return i.i($.a)({url:"/api/admin/user/update",method:"post",signValidate:!0,data:t})}function d(t){return i.i($.a)({url:"/api/admin/user/save",method:"post",signValidate:!0,data:t})}function p(t){return i.i($.a)({url:"/api/admin/user/delete",method:"post",signValidate:!0,data:t})}function g(t){return i.i($.a)({url:"/api/admin/admin/list",method:"post",signValidate:!1,data:t})}function m(t){return i.i($.a)({url:"/api/admin/admin/update",method:"post",signValidate:!0,data:t})}function h(t){return i.i($.a)({url:"/api/admin/admin/save",method:"post",signValidate:!0,data:t})}function b(t){return i.i($.a)({url:"/api/admin/role/list",method:"post",signValidate:!1,data:t})}function v(t){return i.i($.a)({url:"/api/admin/role/delete",method:"post",signValidate:!0,data:t})}function y(t){return i.i($.a)({url:"/api/admin/role/get",method:"post",signValidate:!1,data:t})}function I(t){return i.i($.a)({url:"/api/admin/role/update",method:"post",signValidate:!0,data:t})}function k(t){return i.i($.a)({url:"/api/admin/account/list",method:"post",signValidate:!0,data:t})}function _(t){return i.i($.a)({url:"/api/admin/account/delete",method:"post",signValidate:!0,data:t})}function C(t){return i.i($.a)({url:"/api/admin/message/sys_list",method:"post",signValidate:!0,data:t})}function x(t){return i.i($.a)({url:"/api/admin/message/delete",method:"post",signValidate:!0,data:t})}function S(t){return i.i($.a)({url:"/api/admin/message/sendSys",method:"post",signValidate:!0,data:t})}e.a=n,e.w=a,e.t=o,e.u=r,e.v=s,e.s=u,e.n=l,e.k=c,e.l=f,e.m=d,e.o=p,e.r=g,e.p=m,e.q=h,e.i=b,e.j=v,e.g=y,e.h=I,e.e=k,e.f=_,e.c=C,e.d=x,e.b=S;var $=i(224),V=i(151);i.n(V)},1065:function(t,e){e.f={}.propertyIsEnumerable},1066:function(t,e,i){var n=i(38),a=i(59),o=i(225),r=i(1067),s=i(116).f;t.exports=function(t){var e=a.Symbol||(a.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:r.f(t)})}},1067:function(t,e,i){e.f=i(39)},1068:function(t,e){e.f=Object.getOwnPropertySymbols},1070:function(t,e,i){t.exports={default:i(1073),__esModule:!0}},1071:function(t,e,i){t.exports={default:i(1074),__esModule:!0}},1072:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=i(1071),o=n(a),r=i(1070),s=n(r),u="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(o.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":u(t)}},1073:function(t,e,i){i(1079),i(372),i(1080),i(1081),t.exports=i(59).Symbol},1074:function(t,e,i){i(373),i(374),t.exports=i(1067).f("iterator")},1075:function(t,e,i){var n=i(365),a=i(1068),o=i(1065);t.exports=function(t){var e=n(t),i=a.f;if(i)for(var r,s=i(t),u=o.f,l=0;s.length>l;)u.call(t,r=s[l++])&&e.push(r);return e}},1076:function(t,e,i){var n=i(119);t.exports=Array.isArray||function(t){return"Array"==n(t)}},1077:function(t,e,i){var n=i(227)("meta"),a=i(102),o=i(117),r=i(116).f,s=0,u=Object.isExtensible||function(){return!0},l=!i(152)(function(){return u(Object.preventExtensions({}))}),c=function(t){r(t,n,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[n].i},d=function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[n].w},p=function(t){return l&&g.NEED&&u(t)&&!o(t,n)&&c(t),t},g=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},1078:function(t,e,i){var n=i(1065),a=i(226),o=i(118),r=i(366),s=i(117),u=i(367),l=Object.getOwnPropertyDescriptor;e.f=i(100)?l:function(t,e){if(t=o(t),e=r(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return a(!n.f.call(t,e),t[e])}},1079:function(t,e,i){"use strict";var n=i(38),a=i(117),o=i(100),r=i(101),s=i(371),u=i(1077).KEY,l=i(152),c=i(228),f=i(153),d=i(227),p=i(39),g=i(1067),m=i(1066),h=i(1075),b=i(1076),v=i(68),y=i(118),I=i(366),k=i(226),_=i(368),C=i(369),x=i(1078),S=i(116),$=i(365),V=x.f,L=S.f,A=C.f,O=n.Symbol,w=n.JSON,G=w&&w.stringify,P=p("_hidden"),j=p("toPrimitive"),E={}.propertyIsEnumerable,M=c("symbol-registry"),U=c("symbols"),q=c("op-symbols"),F=Object.prototype,N="function"==typeof O,J=n.QObject,K=!J||!J.prototype||!J.prototype.findChild,T=o&&l(function(){return 7!=_(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=V(F,e);n&&delete F[e],L(t,e,i),n&&t!==F&&L(F,e,n)}:L,D=function(t){var e=U[t]=_(O.prototype);return e._k=t,e},z=N&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},B=function(t,e,i){return t===F&&B(q,e,i),v(t),e=I(e,!0),v(i),a(U,e)?(i.enumerable?(a(t,P)&&t[P][e]&&(t[P][e]=!1),i=_(i,{enumerable:k(0,!1)})):(a(t,P)||L(t,P,k(1,{})),t[P][e]=!0),T(t,e,i)):L(t,e,i)},W=function(t,e){v(t);for(var i,n=h(e=y(e)),a=0,o=n.length;o>a;)B(t,i=n[a++],e[i]);return t},Y=function(t,e){return void 0===e?_(t):W(_(t),e)},Q=function(t){var e=E.call(this,t=I(t,!0));return!(this===F&&a(U,t)&&!a(q,t))&&(!(e||!a(this,t)||!a(U,t)||a(this,P)&&this[P][t])||e)},R=function(t,e){if(t=y(t),e=I(e,!0),t!==F||!a(U,e)||a(q,e)){var i=V(t,e);return!i||!a(U,e)||a(t,P)&&t[P][e]||(i.enumerable=!0),i}},H=function(t){for(var e,i=A(y(t)),n=[],o=0;i.length>o;)a(U,e=i[o++])||e==P||e==u||n.push(e);return n},X=function(t){for(var e,i=t===F,n=A(i?q:y(t)),o=[],r=0;n.length>r;)!a(U,e=n[r++])||i&&!a(F,e)||o.push(U[e]);return o};N||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===F&&e.call(q,i),a(this,P)&&a(this[P],t)&&(this[P][t]=!1),T(this,t,k(1,i))};return o&&K&&T(F,t,{configurable:!0,set:e}),D(t)},s(O.prototype,"toString",function(){return this._k}),x.f=R,S.f=B,i(370).f=C.f=H,i(1065).f=Q,i(1068).f=X,o&&!i(225)&&s(F,"propertyIsEnumerable",Q,!0),g.f=function(t){return D(p(t))}),r(r.G+r.W+r.F*!N,{Symbol:O});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=$(p.store),it=0;et.length>it;)m(et[it++]);r(r.S+r.F*!N,"Symbol",{for:function(t){return a(M,t+="")?M[t]:M[t]=O(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),r(r.S+r.F*!N,"Object",{create:Y,defineProperty:B,defineProperties:W,getOwnPropertyDescriptor:R,getOwnPropertyNames:H,getOwnPropertySymbols:X}),w&&r(r.S+r.F*(!N||l(function(){var t=O();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!z(t)){for(var e,i,n=[t],a=1;arguments.length>a;)n.push(arguments[a++]);return e=n[1],"function"==typeof e&&(i=e),!i&&b(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!z(e))return e}),n[1]=e,G.apply(w,n)}}}),O.prototype[j]||i(84)(O.prototype,j,O.prototype.valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},1080:function(t,e,i){i(1066)("asyncIterator")},1081:function(t,e,i){i(1066)("observable")},1127:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1072),a=i.n(n),o=i(364),r=i(1063);e.default={data:function(){return{fileState:!0,dialogVisible:!1,checkAll:!0,isIndeterminate:!0,checkAll2:!0,isIndeterminate2:!0,loading:!0,state:!1,imgPath:"",upobj:{type:"image",sessionKey:localStorage.getItem("sessionKey"),appId:this.$store.state.appId},giftInfo:{},groupList:[],groupListIds:[],beUsedGroupIds:[],groupIds:[],rules:{name:[{required:!0,message:"请填写一个名字",trigger:"blur"}],num:[{required:!0,type:"number",message:"请填写一个数字",trigger:"blur"}],price:[{required:!0,type:"number",message:"请填写一个价格",trigger:"blur"}],description:[{required:!0,message:"请填写一个描述",trigger:"blur"}]},options:[{value:1,label:"积分"},{value:2,label:"威望"},{value:3,label:"人民币"}]}},methods:{showBig:function(){this.dialogVisible=!0},handleCheckAllChange:function(t){this.groupIds=t.target.checked?this.groupListIds:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.groupListIds.length,this.isIndeterminate=e>0&&e<this.groupListIds.length},handleCheckAllChange2:function(t){this.beUsedGroupIds=t.target.checked?this.groupListIds:[],this.isIndeterminate2=!1},handleCheckedCitiesChange2:function(t){var e=t.length;this.checkAll2=e===this.groupListIds.length,this.isIndeterminate2=e>0&&e<this.groupListIds.length},getuserGroupList:function(){var t=this;r.a({groupType:-1}).then(function(e){console.log(e),t.groupList=e.body;for(var i=0;i<e.body.length;i++)t.groupListIds.push(e.body[i].id)})},getMagicInfo:function(t){var e=this;o.w({id:t}).then(function(t){"100"==t.code?(e.loading=!1,e.giftInfo=t.body,e.beUsedGroupIds=e.changeInt(t.body.beUsedGroupIds),e.groupIds=e.changeInt(t.body.groupIds),""==e.giftInfo.magicLogo?e.state=!0:(e.imgPath=t.body.magicLogo,e.state=!1)):(e.loading=!1,e.$message.error(t.message))}).catch(function(t){e.loading=!1,e.$message.error("数据拉取异常")})},changeInt:function(t){var e=t.split(","),i=[];if(null==t||""==t)i=[];else for(var n=0;n<e.length;n++)i.push(parseInt(e[n]));return i},updateGiftInfo:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var i=e.giftInfo;i.groupIds=e.groupIds.join(","),i.beUsedGroupIds=e.beUsedGroupIds.join(","),o.x(i).then(function(t){console.log("类型="+(void 0===t?"undefined":a()(t))),"100"==t.code?(e.$message.success("修改成功"),setTimeout(function(){e.$router.push({path:"/magiclist"})},1e3)):e.$message.error(t.message)}).catch(function(t){e.$message.error("修改失败")})})},back:function(){this.$router.push({path:"/magiclist",query:{noceStr:Math.round(10*Math.random())}})},beforeAvatarUpload:function(t){this.fileState=!0;var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type,i=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),i||this.$message.error("上传头像图片大小不能超过2MB!"),e&&i},getImgpic:function(t,e,i){this.imgPath=t.body.url,this.state=!1,this.fileState=!1,this.giftInfo.magicLogo=t.body.url},resetForm:function(t){this.$route.query.id;this.$refs[t].resetFields()}},created:function(){var t=this.$route.query.type,e=this.$route.query.id;"add"==t?(this.getuserGroupList(),this.getMagicInfo(e)):"edit"==t&&(this.getuserGroupList(),this.getMagicInfo(e))},watch:{$route:function(t,e){var i=this.$route.query.id;this.loading=!0,this.getuserGroupList(),this.getMagicInfo(i)}}}},1261:function(t,e,i){e=t.exports=i(976)(!1),e.push([t.i,".el-checkbox-group>label[data-v-ce988bc8]{display:inline-block}",""])},1346:function(t,e,i){var n=i(1261);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(977)("bb041336",n,!0)},1432:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"forum-module"},[i("div",{staticClass:"forum-header"},[i("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))]),t._v(" "),i("div",{staticClass:"pull-right"},[i("el-button",{on:{click:t.back}},[t._v("返回列表")])],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-body table-responsive"},[i("el-form",{ref:"topicInfo",attrs:{rules:t.rules,model:t.giftInfo}},[i("el-form-item",{staticClass:"form-group",attrs:{label:"名称",prop:"name"}},[i("el-col",{attrs:{span:6}},[i("el-input",{model:{value:t.giftInfo.name,callback:function(e){t.$set(t.giftInfo,"name",e)},expression:"giftInfo.name"}})],1)],1),t._v(" "),i("el-form-item",{staticClass:"form-group",attrs:{label:"支付方式"}},[i("el-col",{attrs:{span:6}},[i("el-select",{model:{value:t.giftInfo.credit,callback:function(e){t.$set(t.giftInfo,"credit",e)},expression:"giftInfo.credit"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),i("el-form-item",{staticClass:"form-group",attrs:{label:"价格",prop:"price"}},[i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{type:"number"},model:{value:t.giftInfo.price,callback:function(e){t.$set(t.giftInfo,"price",t._n(e))},expression:"giftInfo.price"}})],1)],1),t._v(" "),i("el-form-item",{staticClass:"form-group",attrs:{label:"道具存货量",prop:"num"}},[i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{type:"number"},model:{value:t.giftInfo.num,callback:function(e){t.$set(t.giftInfo,"num",t._n(e))},expression:"giftInfo.num"}})],1)],1),t._v(" "),i("el-form-item",{staticClass:"form-group",attrs:{label:"道具描述",prop:"description"}},[i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.giftInfo.description,callback:function(e){t.$set(t.giftInfo,"description",t._n(e))},expression:"giftInfo.description"}})],1)],1),t._v(" "),i("el-form-item",{staticClass:"form-group",attrs:{label:"道具图片"}},[i("el-col",{attrs:{span:6}},[i("el-input",{model:{value:t.giftInfo.magicLogo,callback:function(e){t.$set(t.giftInfo,"magicLogo",e)},expression:"giftInfo.magicLogo"}}),t._v(" "),i("div",{class:t.state?"pic-box":"pic-box-no"},[t.state?t._e():i("img",{attrs:{src:t.$store.state.baseUrl+t.imgPath,alt:""},on:{click:t.showBig}})])],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:t.$store.state.upLoadUrl,name:"uploadFile",data:t.upobj,"before-upload":t.beforeAvatarUpload,"on-success":t.getImgpic,"show-file-list":t.fileState}},[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-dialog",{staticClass:"pic-dialog",attrs:{title:"按下esc退出全屏",size:"full"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("img",{staticClass:"big-img",attrs:{src:t.$store.state.baseUrl+t.imgPath,alt:""}})])],1)],1),t._v(" "),i("el-form-item",{staticClass:"form-group",attrs:{label:"允许使用的用户组",prop:"priority"}},[i("el-col",{attrs:{span:10}},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),t._v(" "),i("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.groupIds,callback:function(e){t.groupIds=e},expression:"groupIds"}},t._l(t.groupList,function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),i("el-form-item",{staticClass:"form-group",attrs:{label:"允许被使用的用户组",prop:"priority"}},[i("el-col",{attrs:{span:10}},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate2},on:{change:t.handleCheckAllChange2},model:{value:t.checkAll2,callback:function(e){t.checkAll2=e},expression:"checkAll2"}},[t._v("全选")]),t._v(" "),i("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange2},model:{value:t.beUsedGroupIds,callback:function(e){t.beUsedGroupIds=e},expression:"beUsedGroupIds"}},t._l(t.groupList,function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}))],1)],1)],1),t._v(" "),i("div",{staticClass:"margin-md"},["edit"==t.$route.query.type?i("input",{staticClass:"bbs-submit",attrs:{type:"button",value:"提交"},on:{click:function(e){t.updateGiftInfo("topicInfo")}}}):t._e(),t._v(" "),i("input",{staticClass:"bbs-reset",attrs:{type:"reset",value:"重置"}})])],1)])},staticRenderFns:[]}}});