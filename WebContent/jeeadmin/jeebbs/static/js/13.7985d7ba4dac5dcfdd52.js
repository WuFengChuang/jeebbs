webpackJsonp([13],{1002:function(e,t,a){function i(e){a(1338)}var n=a(99)(a(1114),a(1424),i,null,null);e.exports=n.exports},1084:function(e,t,a){e.exports={default:a(1086),__esModule:!0}},1085:function(e,t,a){"use strict";t.__esModule=!0;var i=a(1084),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},1086:function(e,t,a){a(1087);var i=a(59).Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},1087:function(e,t,a){var i=a(101);i(i.S+i.F*!a(100),"Object",{defineProperty:a(116).f})},1114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=a(1085),s=a.n(n),r=a(364);t.default={data:function(){return{checkAll:!1,isIndeterminate:!0,loading:!0,advertisingSpaceList:[],advertisingList:[],ids:"",sort:this.$store.state.sort,lastLoginDay:this.$store.state.lastLoginDay,groupList:[],params:{pageNo:1,pageSize:20,queryChargeMode:"",queryTitle:""},totalCount:0,currentPage:1,changePageSize:localStorage.getItem("PageSize"),disabled:!0}},methods:(i={getAdvertisingList:function(){}},s()(i,"getAdvertisingList",function(){var e=this,t=this.params;r.U(t).then(function(t){console.log(t),"100"==t.code?(e.advertisingList=t.body,e.totalCount=t.totalCount,e.loading=!1):(e.loading=!1,e.$message.error(t.message))}).catch(function(t){e.loading=!1,e.$message.error("数据拉取异常")})}),s()(i,"queryCtg",function(e){this.loading=!0,this.getAdvertisingList()}),s()(i,"queryTitle",function(e){this.loading=!0,this.getAdvertisingList()}),s()(i,"getAdvertisingSpaceList",function(){this.$router.push({path:"/advertisingspacelist"})}),s()(i,"addAdvertisingList",function(){this.$router.push({path:"/advertisingadd",query:{type:"add",id:0}})}),s()(i,"editFriendLink",function(e){this.$router.push({path:"/advertisingedit",query:{type:"edit",id:e}})}),s()(i,"deleteAdvertising",function(e){var t=this;this.ids=e,this.$confirm("您确定要删除广告吗?","警告",{type:"warning"}).then(function(e){r.V({ids:t.ids}).then(function(e){t.loading=!1,"100"==e.code?(t.$message.success("删除成功"),t.getAdvertisingList()):t.$message.error(e.message)}).catch(function(e){console.log(e),t.loading=!1,t.$message.error("数据拉取异常")})}).catch(function(e){})}),s()(i,"getPage",function(e){console.log(e),this.loading=!0,this.params.pageNo=e,this.getAdvertisingList()}),s()(i,"getSize",function(e){this.loading=!0,this.params.pageNo=e,this.getAdvertisingList()}),s()(i,"changeSize",function(e){var t=e.target.value;t<1?(localStorage.setItem("PageSize",20),t=20):localStorage.setItem("PageSize",t),this.loading=!0,this.params.pageSize=parseInt(t),this.params.pageNo=1,this.currentPage=1,this.getAdvertisingList()}),s()(i,"checkIds",function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);0==t.length?(this.ids="",this.disabled=!0):(this.ids=t.join(","),this.disabled=!1)}),i),created:function(){var e=localStorage.getItem("PageSize");null!=e?this.params.pageSize=parseInt(e):this.changePageSize=20,this.getAdvertisingList()},watch:{$route:function(e,t){this.loading=!0,this.getAdvertisingList()}}}},1253:function(e,t,a){t=e.exports=a(976)(!1),t.push([e.i,"",""])},1338:function(e,t,a){var i=a(1253);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(977)("3e37b922",i,!0)},1424:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum-module"},[e._m(0),e._v(" "),a("div",{staticClass:"table-top-bar clearfix"},[a("el-button",{attrs:{type:"warning"},on:{click:e.addAdvertisingList}},[e._v("添加广告")]),e._v(" "),a("el-button",{on:{click:e.getAdvertisingSpaceList}},[e._v("版位管理")]),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:5}},[a("label",{staticStyle:{"line-height":"36px"}},[e._v("展现方式：")])]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-select",{attrs:{placeholder:"选择付费方式"},on:{change:e.queryCtg},model:{value:e.params.queryChargeMode,callback:function(t){e.$set(e.params,"queryChargeMode",t)},expression:"params.queryChargeMode"}},[a("el-option",{attrs:{value:"  ",label:"选择付费方式"}}),e._v(" "),a("el-option",{attrs:{value:"0",label:"按周期收费"}}),e._v(" "),a("el-option",{attrs:{value:"1",label:"按点击量收费"}}),e._v(" "),a("el-option",{attrs:{value:"2",label:"按展现量收费"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入关键词",icon:"search","on-icon-click":e.queryTitle},model:{value:e.params.queryTitle,callback:function(t){e.$set(e.params,"queryTitle",t)},expression:"params.queryTitle"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-responsive"},[a("form",{staticClass:"form-horizontal no-margin"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.advertisingList},on:{"selection-change":e.checkIds}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"id",prop:"id",align:"center",width:50}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"版位",prop:"adspaceName",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",prop:"category",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["image"==t.row.category?a("span",[e._v("图片")]):"code"==t.row.category?a("span",[e._v("代码")]):"text"==t.row.category?a("span",[e._v("文字")]):"flash"==t.row.category?a("span",[e._v("flash")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"收费方式",prop:"priority",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.chargeMode?a("span",[e._v("按周期收费")]):e._e(),e._v(" "),1==t.row.chargeMode?a("span",[e._v("按点击量收费")]):e._e(),e._v(" "),2==t.row.chargeMode?a("span",[e._v("按展现量收费")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"开始时间",prop:"startTime",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"点击/展现=点击率",prop:"priority",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.clickCount)+"/"+e._s(t.row.displayCount)+"="+e._s(t.row.percent)+"%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"启用",prop:"enabled",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?a("span",[e._v("是")]):a("span",{staticClass:"red"},[e._v("否")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:200},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"t-edit iconfont bbs-edit",attrs:{href:"javascript:void(0)",title:"编辑"},on:{click:function(a){e.editFriendLink(t.row.id)}}}),e._v(" "),a("a",{staticClass:"t-del iconfont bbs-delete",attrs:{href:"javascript:void(0)",title:"删除"},on:{click:function(a){e.deleteAdvertising(t.row.id)}}})]}}])})],1)],1)]),e._v(" "),a("div",{staticClass:"table-bottom-bar"},[a("div",{staticClass:"pull-left"},[a("el-button",{attrs:{disabled:e.disabled},on:{click:function(t){e.deleteAdvertising(e.ids)}}},[e._v("批量删除")]),e._v(" "),a("span",{staticClass:"ml-48"},[e._v("每页显示\n                "),a("el-input",{staticClass:"input-sm",attrs:{type:"number",min:"1",max:"50"},on:{blur:e.changeSize},model:{value:e.changePageSize,callback:function(t){e.changePageSize=t},expression:"changePageSize"}}),e._v("条,输入后按回车")],1)],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-pagination",{attrs:{layout:"total,prev, pager, next",total:e.totalCount,"page-size":e.params.pageSize,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.getPage,"size-change":e.getSize}})],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[e._v("广告列表")])])}]}}});