webpackJsonp([15],{1053:function(e,t,a){function r(e){a(1306)}var i=a(99)(a(1165),a(1392),r,"data-v-4c469d70",null);e.exports=i.exports},1063:function(e,t,a){"use strict";function r(e){return a.i(C.a)({url:"/api/admin/group/list",method:"post",signValidate:!1,data:e})}function i(e){return a.i(C.a)({url:"/api/admin/group/delete",method:"post",signValidate:!0,data:e})}function o(e){return a.i(C.a)({url:"/api/admin/group/get",method:"post",signValidate:!1,data:e})}function n(e){return a.i(C.a)({url:"/api/admin/group/update",method:"post",signValidate:!0,data:e})}function s(e){return a.i(C.a)({url:"/api/admin/group/save",method:"post",signValidate:!0,data:e})}function l(e){return a.i(C.a)({url:"/api/admin/user/list",method:"post",signValidate:!1,data:e})}function u(e){return a.i(C.a)({url:"/api/admin/user/official_list",method:"post",signValidate:!1,data:e})}function d(e){return a.i(C.a)({url:"/api/admin/user/get",method:"post",signValidate:!1,data:e})}function c(e){return a.i(C.a)({url:"/api/admin/user/update",method:"post",signValidate:!0,data:e})}function p(e){return a.i(C.a)({url:"/api/admin/user/save",method:"post",signValidate:!0,data:e})}function m(e){return a.i(C.a)({url:"/api/admin/user/delete",method:"post",signValidate:!0,data:e})}function f(e){return a.i(C.a)({url:"/api/admin/admin/list",method:"post",signValidate:!1,data:e})}function g(e){return a.i(C.a)({url:"/api/admin/admin/update",method:"post",signValidate:!0,data:e})}function h(e){return a.i(C.a)({url:"/api/admin/admin/save",method:"post",signValidate:!0,data:e})}function v(e){return a.i(C.a)({url:"/api/admin/role/list",method:"post",signValidate:!1,data:e})}function b(e){return a.i(C.a)({url:"/api/admin/role/delete",method:"post",signValidate:!0,data:e})}function _(e){return a.i(C.a)({url:"/api/admin/role/get",method:"post",signValidate:!1,data:e})}function y(e){return a.i(C.a)({url:"/api/admin/role/update",method:"post",signValidate:!0,data:e})}function I(e){return a.i(C.a)({url:"/api/admin/account/list",method:"post",signValidate:!0,data:e})}function V(e){return a.i(C.a)({url:"/api/admin/account/delete",method:"post",signValidate:!0,data:e})}function x(e){return a.i(C.a)({url:"/api/admin/message/sys_list",method:"post",signValidate:!0,data:e})}function $(e){return a.i(C.a)({url:"/api/admin/message/delete",method:"post",signValidate:!0,data:e})}function w(e){return a.i(C.a)({url:"/api/admin/message/sendSys",method:"post",signValidate:!0,data:e})}t.a=r,t.w=i,t.t=o,t.u=n,t.v=s,t.s=l,t.n=u,t.k=d,t.l=c,t.m=p,t.o=m,t.r=f,t.p=g,t.q=h,t.i=v,t.j=b,t.g=_,t.h=y,t.e=I,t.f=V,t.c=x,t.d=$,t.b=w;var C=a(224),q=a(151);a.n(q)},1165:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1063),i=a(1176);t.default={data:function(){return{loading:!0,roleInfo:{},groupList:[],addList:[],params:{},rules:{weixinAppId:[{required:!0,message:"此项必填",trigger:"blur"}],weixinAccount:[{required:!0,smessage:"此项必填",trigger:"blur"}],rewardMin:[{required:!0,type:"number",message:"请输入一个数字",trigger:"blur"}],rewardMax:[{required:!0,type:"number",message:"请输入一个数字",trigger:"blur"}],chargeRatio:[{required:!0,type:"number",message:"请输入一个数字",trigger:"blur"}],minDrawAmount:[{required:!0,type:"number",message:"请输入一个数字",trigger:"blur"}],giftChargeRatio:[{required:!0,type:"number",message:"请输入一个数字",trigger:"blur"}]},roleList:i.a,defaultProps:{children:"children",label:"name"}}},methods:{getRoles:function(e,t){console.log(e),console.log(t),console.log(this.$refs.tree.getCheckedNodes())},getRoleInfo:function(e){var t=this;r.g({id:e}).then(function(e){console.log(e),"100"==e.code?(t.loading=!1,t.roleInfo=e.body):(t.loading=!1,t.$message.error(e.message))}).catch(function(e){t.loading=!1,t.$message.error("数据拉取异常")})},updateRoleInfo:function(e){var t=this;this.$refs[e].validate(function(e){if(document.querySelector("#main").scrollTop=0,!e)return document.querySelector("#main").scrollTop=0,!1;var a=t.roleInfo;r.h(a).then(function(e){"100"==e.code?(t.$message.success("修改成功"),t.getRoleInfo()):t.$message.error(e.message)}).catch(function(e){t.$message.error("修改失败")})})},back:function(){this.$router.push({path:"/livelist",query:{noceStr:Math.round(10*Math.random())}})}},created:function(){this.loading=!0;var e=this.$route.query.type,t=this.$route.query.id;"add"==e?this.getRoleInfo(t):"edit"==e&&this.getRoleInfo(t)},watch:{$route:function(e,t){this.loading=!0;var a=this.$route.query.id;this.getRoleInfo(a)}}}},1176:function(e,t,a){"use strict";var r=[{name:"论坛",role:"bbs",children:[{name:"版块管理",role:"fourm_list",children:[{name:"修改",role:"fourm_edit"},{name:"添加",role:"fourm_add"},{name:"删除",role:"fourm_delete"}]},{name:"主题分类管理",role:"topictype_list",children:[{name:"修改",role:"topictype_edit"},{name:"添加",role:"topictype_add"},{name:"删除",role:"topictype_delete"}]}]}];t.a=r},1221:function(e,t,a){t=e.exports=a(976)(!1),t.push([e.i,".mb10[data-v-4c469d70]{margin-bottom:10px}",""])},1306:function(e,t,a){var r=a(1221);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(977)("54a3f302",r,!0)},1392:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[e._v(e._s(e.$route.name))]),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{on:{click:e.back}},[e._v("返回列表")])],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-body table-responsive"},[a("el-form",{ref:"topicInfo",attrs:{model:e.roleInfo,rules:e.rules}},[a("el-form-item",{staticClass:"form-group",attrs:{label:"角色名",prop:""}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.roleInfo.name,callback:function(t){e.$set(e.roleInfo,"name",t)},expression:"roleInfo.name"}})],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v("  ")]),e._v(" "),a("el-col",{attrs:{span:7}})],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"排列顺序",prop:""}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.roleInfo.priority,callback:function(t){e.$set(e.roleInfo,"priority",t)},expression:"roleInfo.priority"}})],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v("  ")]),e._v(" "),a("el-col",{attrs:{span:7}})],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"等级",prop:""}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.roleInfo.level,callback:function(t){e.$set(e.roleInfo,"level",t)},expression:"roleInfo.level"}})],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v("  ")]),e._v(" "),a("el-col",{attrs:{span:7}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"form-group",attrs:{label:"是否拥有所有权限",prop:""}},[a("el-col",{attrs:{span:6}},[a("el-switch",{attrs:{"on-text":"是","off-text":"否"},model:{value:e.roleInfo.all,callback:function(t){e.$set(e.roleInfo,"all",t)},expression:"roleInfo.all"}})],1),e._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[e._v("  ")]),e._v(" "),a("el-col",{attrs:{span:7}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"form-group",attrs:{label:"角色权限",prop:""}},[a("el-col",{attrs:{span:6}},[a("el-tree",{ref:"tree",attrs:{data:e.roleList,"show-checkbox":"","node-key":"role","highlight-current":"",props:e.defaultProps},on:{"check-change":e.getRoles}})],1),e._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[e._v("  ")]),e._v(" "),a("el-col",{attrs:{span:7}})],1)],1),e._v(" "),a("div",{staticClass:"margin-md"},[a("input",{staticClass:"bbs-submit",attrs:{type:"button",value:"提交"},on:{click:function(t){e.updateRoleInfo("topicInfo")}}}),e._v(" "),a("input",{staticClass:"bbs-reset",attrs:{type:"reset",value:"重置"}})])],1)])},staticRenderFns:[]}}});