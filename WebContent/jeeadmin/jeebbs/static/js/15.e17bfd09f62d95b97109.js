webpackJsonp([15],{657:function(e,t,a){function i(e){a(847)}var n=a(66)(a(751),a(934),i,null,null);e.exports=n.exports},658:function(e,t,a){"use strict";function i(e){return a.i($.a)({url:"/api/admin/group/list",method:"post",signValidate:!1,data:e})}function n(e){return a.i($.a)({url:"/api/admin/group/delete",method:"post",signValidate:!0,data:e})}function s(e){return a.i($.a)({url:"/api/admin/group/get",method:"post",signValidate:!1,data:e})}function r(e){return a.i($.a)({url:"/api/admin/group/update",method:"post",signValidate:!0,data:e})}function l(e){return a.i($.a)({url:"/api/admin/group/save",method:"post",signValidate:!0,data:e})}function o(e){return a.i($.a)({url:"/api/admin/user/list",method:"post",signValidate:!1,data:e})}function u(e){return a.i($.a)({url:"/api/admin/user/official_list",method:"post",signValidate:!1,data:e})}function d(e){return a.i($.a)({url:"/api/admin/user/get",method:"post",signValidate:!1,data:e})}function c(e){return a.i($.a)({url:"/api/admin/user/update",method:"post",signValidate:!0,data:e})}function p(e){return a.i($.a)({url:"/api/admin/user/save",method:"post",signValidate:!0,data:e})}function g(e){return a.i($.a)({url:"/api/admin/user/delete",method:"post",signValidate:!0,data:e})}function m(e){return a.i($.a)({url:"/api/admin/admin/list",method:"post",signValidate:!1,data:e})}function h(e){return a.i($.a)({url:"/api/admin/admin/update",method:"post",signValidate:!0,data:e})}function f(e){return a.i($.a)({url:"/api/admin/admin/save",method:"post",signValidate:!0,data:e})}function v(e){return a.i($.a)({url:"/api/admin/role/list",method:"post",signValidate:!1,data:e})}function b(e){return a.i($.a)({url:"/api/admin/role/delete",method:"post",signValidate:!0,data:e})}function y(e){return a.i($.a)({url:"/api/admin/role/get",method:"post",signValidate:!1,data:e})}function _(e){return a.i($.a)({url:"/api/admin/role/update",method:"post",signValidate:!0,data:e})}function C(e){return a.i($.a)({url:"/api/admin/role/save",method:"post",signValidate:!0,data:e})}function L(e){return a.i($.a)({url:"/api/admin/account/list",method:"post",signValidate:!0,data:e})}function S(e){return a.i($.a)({url:"/api/admin/account/delete",method:"post",signValidate:!0,data:e})}function V(e){return a.i($.a)({url:"/api/admin/message/sys_list",method:"post",signValidate:!0,data:e})}function k(e){return a.i($.a)({url:"/api/admin/message/delete",method:"post",signValidate:!0,data:e})}function z(e){return a.i($.a)({url:"/api/admin/message/sendSys",method:"post",signValidate:!0,data:e})}t.a=i,t.x=n,t.u=s,t.v=r,t.w=l,t.t=o,t.o=u,t.l=d,t.m=c,t.n=p,t.p=g,t.s=m,t.q=h,t.r=f,t.j=v,t.k=b,t.g=y,t.h=_,t.i=C,t.e=L,t.f=S,t.c=V,t.d=k,t.b=z;var $=a(150),U=a(101);a.n(U)},751:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(658);t.default={data:function(){return{checkAll:!1,isIndeterminate:!0,loading:!0,userList:[],ids:"",sort:this.$store.state.sort,lastLoginDay:this.$store.state.lastLoginDay,groupList:[],params:{pageNo:1,pageSize:20,orderBy:"",groupId:"",lastLoginDay:"",username:""},totalCount:0,currentPage:1,changePageSize:localStorage.getItem("PageSize"),disabled:!0}},methods:{getuserGroupList:function(){var e=this;i.a({groupType:-1}).then(function(t){e.groupList=t.body})},getUserList:function(){var e=this,t=this.params;i.t(t).then(function(t){"100"==t.code?(e.userList=t.body,e.totalCount=t.totalCount,e.loading=!1):(e.loading=!1,e.$message.error(t.message))}).catch(function(t){e.loading=!1,e.$message.error("网络异常")})},addUser:function(){this.$router.push({path:"/useradd",query:{type:"add",id:0}})},editUser:function(e){this.$router.push({path:"/useredit",query:{type:"edit",id:e}})},deleteUser:function(e){var t=this;this.ids=e,this.$confirm("您确定要删除用户吗?","警告",{type:"warning"}).then(function(e){i.p({ids:t.ids}).then(function(e){t.loading=!1,"100"==e.code?(t.$message.success("删除成功"),t.getUserList()):t.$message.error(e.message)}).catch(function(e){t.loading=!1,t.$message.error("网络异常")})}).catch(function(e){})},deleteUserAll:function(){var e=this;this.$confirm("您确定要删除用户吗?","警告",{type:"warning"}).then(function(t){i.p({ids:e.ids}).then(function(t){e.loading=!1,"100"==t.code?(e.$message.success("删除成功"),e.getUserList()):e.$message.error(t.message)}).catch(function(t){e.loading=!1,e.$message.error("网络异常")})}).catch(function(e){})},selectQuery:function(e){this.getUserList()},queryUserName:function(e){this.loading=!0,this.getUserList()},getPage:function(e){this.loading=!0,this.params.pageNo=e,this.getUserList()},getSize:function(e){this.loading=!0,this.params.pageNo=e,this.getUserList()},changeSize:function(e){var t=e.target.value;t<1?(localStorage.setItem("PageSize",20),t=20):localStorage.setItem("PageSize",t),this.loading=!0,this.params.pageSize=parseInt(t),this.params.pageNo=1,this.currentPage=1,this.getUserList()},checkIds:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);0==t.length?(this.ids="",this.disabled=!0):(this.ids=t.join(","),this.disabled=!1)}},created:function(){var e=localStorage.getItem("PageSize");null!=e?this.params.pageSize=parseInt(e):this.changePageSize=20,this.getuserGroupList(),this.getUserList()}}},761:function(e,t,a){t=e.exports=a(570)(!1),t.push([e.i,"",""])},847:function(e,t,a){var i=a(761);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(571)("00fb22f2",i,!0)},934:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"forum-module"},[e._m(0),e._v(" "),a("div",{staticClass:"table-top-bar clearfix"},[a("div",{staticClass:"query-inline-box flex-between"},[a("a",{staticClass:"add-Class",attrs:{href:"javascript:void(0)"},on:{click:e.addUser}},[e._v("添加")]),e._v(" "),a("div",{staticClass:"query-inline-box"},[a("div",{staticClass:"query-inline-group"},[a("el-select",{attrs:{placeholder:"用户组"},on:{change:e.selectQuery},model:{value:e.params.groupId,callback:function(t){e.$set(e.params,"groupId",t)},expression:"params.groupId"}},[a("el-option",{attrs:{label:"所有分组",value:""}}),e._v(" "),e._l(e.groupList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1),e._v(" "),a("div",{staticClass:"query-inline-group"},[a("el-select",{attrs:{placeholder:"排序"},on:{change:e.selectQuery},model:{value:e.params.orderBy,callback:function(t){e.$set(e.params,"orderBy",t)},expression:"params.orderBy"}},e._l(e.sort,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"query-inline-group"},[a("label",[e._v("最近登录:")]),e._v(" "),a("el-select",{attrs:{placeholder:"登录时间"},on:{change:e.selectQuery},model:{value:e.params.lastLoginDay,callback:function(t){e.$set(e.params,"lastLoginDay",t)},expression:"params.lastLoginDay"}},e._l(e.lastLoginDay,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"query-inline-group"},[a("el-input",{attrs:{placeholder:"请输入用户名",icon:"search","on-icon-click":e.queryUserName},model:{value:e.params.username,callback:function(t){e.$set(e.params,"username",t)},expression:"params.username"}})],1)])])]),e._v(" "),a("div",{staticClass:"table-responsive"},[a("form",{staticClass:"form-horizontal no-margin"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList},on:{"selection-change":e.checkIds}},[a("el-table-column",{attrs:{type:"selection",width:"68",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"id",prop:"id",align:"center",width:68}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",prop:"username",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"会员组",prop:"groupName",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"积分",prop:"point",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"威望",prop:"prestige",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"最后登录时间",prop:"lastLoginTime",align:"center",width:220}}),e._v(" "),a("el-table-column",{attrs:{label:"最近登录IP",prop:"lastLoginIp",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录次数",prop:"loginCount",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"启用",prop:"disabled",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disabled?a("span",{staticClass:"red"},[e._v("否")]):a("span",[e._v("是")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"t-edit iconfont bbs-edit",attrs:{href:"javascript:void(0)",title:"编辑"},on:{click:function(a){e.editUser(t.row.id)}}}),e._v(" "),a("a",{staticClass:"t-del iconfont bbs-delete",attrs:{href:"javascript:void(0)",title:"删除"},on:{click:function(a){e.deleteUser(t.row.id)}}})]}}])})],1)],1)]),e._v(" "),a("div",{staticClass:"table-bottom-bar"},[a("div",{staticClass:"pull-left"},[a("el-button",{attrs:{disabled:e.disabled},on:{click:e.deleteUserAll}},[e._v("批量删除")]),e._v(" "),a("span",{staticClass:"ml-48"},[e._v("每页显示\n                  "),a("el-input",{staticClass:"input-sm",attrs:{type:"number",min:"1",max:"50"},on:{blur:e.changeSize},model:{value:e.changePageSize,callback:function(t){e.changePageSize=t},expression:"changePageSize"}}),e._v("条,输入后按回车")],1)],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-pagination",{attrs:{layout:"total,prev, pager, next",total:e.totalCount,"page-size":e.params.pageSize,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.getPage,"size-change":e.getSize}})],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[e._v("用户列表")])])}]}}});