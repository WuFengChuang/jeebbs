webpackJsonp([23],{646:function(e,t,a){function s(e){a(856)}var r=a(66)(a(740),a(943),s,null,null);e.exports=r.exports},658:function(e,t,a){"use strict";function s(e){return a.i(V.a)({url:"/api/admin/group/list",method:"post",signValidate:!1,data:e})}function r(e){return a.i(V.a)({url:"/api/admin/group/delete",method:"post",signValidate:!0,data:e})}function o(e){return a.i(V.a)({url:"/api/admin/group/get",method:"post",signValidate:!1,data:e})}function n(e){return a.i(V.a)({url:"/api/admin/group/update",method:"post",signValidate:!0,data:e})}function i(e){return a.i(V.a)({url:"/api/admin/group/save",method:"post",signValidate:!0,data:e})}function l(e){return a.i(V.a)({url:"/api/admin/user/list",method:"post",signValidate:!1,data:e})}function u(e){return a.i(V.a)({url:"/api/admin/user/official_list",method:"post",signValidate:!1,data:e})}function d(e){return a.i(V.a)({url:"/api/admin/user/get",method:"post",signValidate:!1,data:e})}function c(e){return a.i(V.a)({url:"/api/admin/user/update",method:"post",signValidate:!0,data:e})}function p(e){return a.i(V.a)({url:"/api/admin/user/save",method:"post",signValidate:!0,data:e})}function f(e){return a.i(V.a)({url:"/api/admin/user/delete",method:"post",signValidate:!0,data:e})}function m(e){return a.i(V.a)({url:"/api/admin/admin/list",method:"post",signValidate:!1,data:e})}function g(e){return a.i(V.a)({url:"/api/admin/admin/update",method:"post",signValidate:!0,data:e})}function v(e){return a.i(V.a)({url:"/api/admin/admin/save",method:"post",signValidate:!0,data:e})}function h(e){return a.i(V.a)({url:"/api/admin/role/list",method:"post",signValidate:!1,data:e})}function I(e){return a.i(V.a)({url:"/api/admin/role/delete",method:"post",signValidate:!0,data:e})}function b(e){return a.i(V.a)({url:"/api/admin/role/get",method:"post",signValidate:!1,data:e})}function _(e){return a.i(V.a)({url:"/api/admin/role/update",method:"post",signValidate:!0,data:e})}function $(e){return a.i(V.a)({url:"/api/admin/role/save",method:"post",signValidate:!0,data:e})}function y(e){return a.i(V.a)({url:"/api/admin/account/list",method:"post",signValidate:!0,data:e})}function C(e){return a.i(V.a)({url:"/api/admin/account/delete",method:"post",signValidate:!0,data:e})}function k(e){return a.i(V.a)({url:"/api/admin/message/sys_list",method:"post",signValidate:!0,data:e})}function x(e){return a.i(V.a)({url:"/api/admin/message/delete",method:"post",signValidate:!0,data:e})}function q(e){return a.i(V.a)({url:"/api/admin/message/sendSys",method:"post",signValidate:!0,data:e})}t.a=s,t.x=r,t.u=o,t.v=n,t.w=i,t.t=l,t.o=u,t.l=d,t.m=c,t.n=p,t.p=f,t.s=m,t.q=g,t.r=v,t.j=h,t.k=I,t.g=b,t.h=_,t.i=$,t.e=y,t.f=C,t.c=k,t.d=x,t.b=q;var V=a(150),w=a(101);a.n(w)},740:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(229),r=a.n(s),o=a(658);t.default={data:function(){var e=this,t=function(t,a,s){""===a?s():(""!==e.userInfo.checkPass&&e.$refs.userInfo.validateField("checkPass"),s())},a=function(t,a,s){""===a?s():a!==e.userInfo.password?s(new Error("两次输入密码不一致!")):s()},s=function(e,t,a){if(""===t)a();else{/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(t)?a():a(new Error("请输入正确的邮箱地址"))}};return{sex:{man:!0,woman:!1,other:""},userInfo:{password:"",checkPass:""},groupList:[],rules:{},rulesList:r()({email:[{required:!0,message:"请填写邮箱地址",trigger:"blur"}],groupId:[{type:"number",required:!0,message:"请选择一个会员组",trigger:"change"}],password:[{validator:t,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}]},"email",[{validator:s,trigger:"blur"}])}},methods:{getuserGroupList:function(){var e=this;o.a({groupType:-1}).then(function(t){e.groupList=t.body})},getUserInfo:function(e){var t=this;o.l({id:e}).then(function(e){"100"==e.code?(t.userInfo=e.body,t.userInfo.password="",t.userInfo.checkPass="","add"==t.$route.query.type&&(t.userInfo.groupId=1)):t.$message.error(e.message)}).catch(function(e){t.$message.error("网络异常")})},updateUserInfo:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.userInfo;a.official=!0,o.m(a).then(function(e){"100"==e.code?(t.$message.success("修改成功"),setTimeout(function(){t.$router.push({path:"/officiallist"})},500)):t.$message.error(e.message)}).catch(function(e){t.$message.error("修改失败")})})},addUserInfo:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.userInfo;a.official=!0,o.n(a).then(function(e){"100"==e.code?(t.$message.success("添加成功"),setTimeout(function(){t.$router.push({path:"/officiallist"})},500)):t.$message.error(e.message)}).catch(function(e){t.$message.error("修改失败")})})},resetForm:function(e){this.$route.query.id;this.$refs[e].resetFields()},formatDate:function(e){this.userInfo.birthday=e}},created:function(){var e=this.$route.query.type,t=this.$route.query.id;this.getuserGroupList(),"add"==e?(this.getUserInfo(t),this.rules=this.rulesList):"edit"==e&&(this.getUserInfo(t),this.rules={email:[{required:!0,message:"请填写邮箱地址",trigger:"blur"}],groupId:[{type:"number",required:!0,message:"请选择一个会员组",trigger:"change"}]})}}},770:function(e,t,a){t=e.exports=a(570)(!1),t.push([e.i,"",""])},856:function(e,t,a){var s=a(770);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(571)("23bacaa4",s,!0)},943:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[e._v(e._s(e.$route.name))]),e._v(" "),a("span",{staticClass:"forum-hint"},[e._v('带"*"号的为必填项')])]),e._v(" "),a("div",{staticClass:"table-body table-responsive"},[a("el-form",{ref:"userInfo",attrs:{rules:e.rules,model:e.userInfo}},[a("el-form-item",{staticClass:"form-group",attrs:{label:"用户名"}},[a("el-col",{attrs:{span:6}},["add"==e.$route.query.type?a("el-input",{model:{value:e.userInfo.username,callback:function(t){e.$set(e.userInfo,"username",t)},expression:"userInfo.username"}}):a("label",[e._v(e._s(e.userInfo.username))])],1),e._v(" "),"add"==e.$route.query.type?a("el-col",{staticClass:"required",attrs:{span:1}},[e._v("* ")]):e._e()],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"电子邮件",prop:"email"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email",t)},expression:"userInfo.email"}})],1),e._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{staticClass:"gray",attrs:{span:10}},[e._v("用于找回密码")])],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"密码",prop:"password"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}})],1),e._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{staticClass:"gray",attrs:{span:10}},[e._v(" 不修改请留空")])],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"重复密码",prop:"checkPass"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.userInfo.checkPass,callback:function(t){e.$set(e.userInfo,"checkPass",t)},expression:"userInfo.checkPass"}})],1),e._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{staticClass:"gray",attrs:{span:10}},[e._v("不修改请留空")])],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"会员组",prop:"groupId"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"用户组"},model:{value:e.userInfo.groupId,callback:function(t){e.$set(e.userInfo,"groupId",t)},expression:"userInfo.groupId"}},e._l(e.groupList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[e._v(" ")])],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"是否启禁用"}},[a("el-col",{attrs:{span:1}},[a("el-switch",{attrs:{"on-text":"是","off-text":"否"},model:{value:e.userInfo.disabled,callback:function(t){e.$set(e.userInfo,"disabled",t)},expression:"userInfo.disabled"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"真实姓名",prop:"realname"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.userInfo.realname,callback:function(t){e.$set(e.userInfo,"realname",t)},expression:"userInfo.realname"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"性别",prop:"gender"}},[a("el-col",{attrs:{span:8}},[a("el-radio",{staticClass:"radio",attrs:{label:e.sex.man},model:{value:e.userInfo.gender,callback:function(t){e.$set(e.userInfo,"gender",t)},expression:"userInfo.gender"}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:e.sex.woman},model:{value:e.userInfo.gender,callback:function(t){e.$set(e.userInfo,"gender",t)},expression:"userInfo.gender"}},[e._v("女")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:e.sex.other},model:{value:e.userInfo.gender,callback:function(t){e.$set(e.userInfo,"gender",t)},expression:"userInfo.gender"}},[e._v("保密")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"出生日期",prop:"birth"}},[a("el-col",{attrs:{span:6}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},on:{change:e.formatDate},model:{value:e.userInfo.birthday,callback:function(t){e.$set(e.userInfo,"birthday",t)},expression:"userInfo.birthday"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"手机号码",prop:"phone"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.userInfo.phone,callback:function(t){e.$set(e.userInfo,"phone",t)},expression:"userInfo.phone"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"QQ",prop:"qq"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.userInfo.qq,callback:function(t){e.$set(e.userInfo,"qq",t)},expression:"userInfo.qq"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"来自",prop:"comefrom"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.userInfo.comefrom,callback:function(t){e.$set(e.userInfo,"comefrom",t)},expression:"userInfo.comefrom"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"个性签名",prop:"intro"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.userInfo.intro,callback:function(t){e.$set(e.userInfo,"intro",t)},expression:"userInfo.intro"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"margin-md"},["edit"==e.$route.query.type?a("input",{staticClass:"bbs-submit",attrs:{type:"button",value:"提交"},on:{click:function(t){e.updateUserInfo("userInfo")}}}):e._e(),e._v(" "),"add"==e.$route.query.type?a("input",{staticClass:"bbs-submit",attrs:{type:"button",value:"提交"},on:{click:function(t){e.addUserInfo("userInfo")}}}):e._e(),e._v(" "),a("input",{staticClass:"bbs-reset",attrs:{type:"reset",value:"重置"},on:{click:function(t){e.resetForm("userInfo")}}})])],1)])},staticRenderFns:[]}}});