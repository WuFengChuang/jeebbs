webpackJsonp([25],{1010:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"forum-module"},[t._m(0),t._v(" "),a("div",{staticClass:"table-top-bar clearfix"},[a("div",{staticClass:"query-inline-box flex-between"},[a("a",{staticClass:"add-Class",attrs:{href:"javascript:void(0)"},on:{click:t.addUser}},[t._v("添加")]),t._v(" "),a("div",{staticClass:"query-inline-box "},[a("div",{staticClass:"query-inline-group"},[a("label",[t._v("是否禁用:")]),t._v(" "),a("el-select",{staticClass:"w128",attrs:{placeholder:"是否禁用"},on:{change:t.selectQuery},model:{value:t.params.queryDisabled,callback:function(e){t.$set(t.params,"queryDisabled",e)},expression:"params.queryDisabled"}},[a("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:""}})],1)],1),t._v(" "),a("div",{staticClass:"query-inline-group"},[a("el-input",{staticClass:"w128",attrs:{placeholder:"请输入邮箱"},model:{value:t.params.queryEmail,callback:function(e){t.$set(t.params,"queryEmail",e)},expression:"params.queryEmail"}})],1),t._v(" "),a("div",{staticClass:"query-inline-group"},[a("el-input",{staticClass:"w128",attrs:{placeholder:"请输入管理员名"},model:{value:t.params.queryUsername,callback:function(e){t.$set(t.params,"queryUsername",e)},expression:"params.queryUsername"}})],1),t._v(" "),a("div",{staticClass:"query-inline-group"},[a("el-button",{on:{click:t.queryUserName}},[t._v("查询")])],1)])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("form",{staticClass:"form-horizontal no-margin"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.adminList},on:{"selection-change":t.checkIds}},[a("el-table-column",{attrs:{type:"selection",width:"68",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"id",prop:"id",align:"center",width:68}}),t._v(" "),a("el-table-column",{attrs:{label:"管理员名",prop:"username",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"角色",prop:"roleNames",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"等级",prop:"rank",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"最后登录时间",prop:"lastLoginTime",align:"center",width:220}}),t._v(" "),a("el-table-column",{attrs:{label:"登录次数",prop:"loginCount",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"启用",prop:"disabled",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.disabled?a("span",{staticClass:"red"},[t._v("否")]):a("span",[t._v("是")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"t-edit iconfont bbs-edit",attrs:{href:"javascript:void(0)",title:"编辑"},on:{click:function(a){t.editUser(e.row.id)}}}),t._v(" "),a("a",{staticClass:"t-del iconfont bbs-delete",attrs:{href:"javascript:void(0)",title:"删除"},on:{click:function(a){t.deleteUser(e.row.id)}}})]}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"table-bottom-bar"},[a("div",{staticClass:"pull-left"},[a("el-button",{attrs:{disabled:t.disabled},on:{click:t.deleteUserAll}},[t._v("批量删除")]),t._v(" "),a("span",{staticClass:"ml-48"},[t._v("每页显示\n                    "),a("el-input",{staticClass:"input-sm",attrs:{type:"number",min:"1",max:"50"},on:{blur:t.changeSize},model:{value:t.changePageSize,callback:function(e){t.changePageSize=e},expression:"changePageSize"}}),t._v("条,输入后按回车")],1)],1),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-pagination",{attrs:{layout:"total,prev, pager, next",total:t.totalCount,"page-size":t.params.pageSize,"current-page":t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e},"current-change":t.getPage,"size-change":t.getSize}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v("管理员列表")])])}]}},644:function(t,e,a){function i(t){a(923)}var n=a(66)(a(738),a(1010),i,null,null);t.exports=n.exports},658:function(t,e,a){"use strict";function i(t){return a.i(w.a)({url:"/api/admin/group/list",method:"post",signValidate:!1,data:t})}function n(t){return a.i(w.a)({url:"/api/admin/group/delete",method:"post",signValidate:!0,data:t})}function s(t){return a.i(w.a)({url:"/api/admin/group/get",method:"post",signValidate:!1,data:t})}function r(t){return a.i(w.a)({url:"/api/admin/group/update",method:"post",signValidate:!0,data:t})}function l(t){return a.i(w.a)({url:"/api/admin/group/save",method:"post",signValidate:!0,data:t})}function o(t){return a.i(w.a)({url:"/api/admin/user/list",method:"post",signValidate:!1,data:t})}function d(t){return a.i(w.a)({url:"/api/admin/user/official_list",method:"post",signValidate:!1,data:t})}function u(t){return a.i(w.a)({url:"/api/admin/user/get",method:"post",signValidate:!1,data:t})}function c(t){return a.i(w.a)({url:"/api/admin/user/update",method:"post",signValidate:!0,data:t})}function p(t){return a.i(w.a)({url:"/api/admin/user/save",method:"post",signValidate:!0,data:t})}function m(t){return a.i(w.a)({url:"/api/admin/user/delete",method:"post",signValidate:!0,data:t})}function g(t){return a.i(w.a)({url:"/api/admin/admin/list",method:"post",signValidate:!1,data:t})}function h(t){return a.i(w.a)({url:"/api/admin/admin/update",method:"post",signValidate:!0,data:t})}function f(t){return a.i(w.a)({url:"/api/admin/admin/save",method:"post",signValidate:!0,data:t})}function v(t){return a.i(w.a)({url:"/api/admin/role/list",method:"post",signValidate:!1,data:t})}function b(t){return a.i(w.a)({url:"/api/admin/role/delete",method:"post",signValidate:!0,data:t})}function y(t){return a.i(w.a)({url:"/api/admin/role/get",method:"post",signValidate:!1,data:t})}function _(t){return a.i(w.a)({url:"/api/admin/role/update",method:"post",signValidate:!0,data:t})}function C(t){return a.i(w.a)({url:"/api/admin/role/save",method:"post",signValidate:!0,data:t})}function S(t){return a.i(w.a)({url:"/api/admin/account/list",method:"post",signValidate:!0,data:t})}function V(t){return a.i(w.a)({url:"/api/admin/account/delete",method:"post",signValidate:!0,data:t})}function q(t){return a.i(w.a)({url:"/api/admin/message/sys_list",method:"post",signValidate:!0,data:t})}function z(t){return a.i(w.a)({url:"/api/admin/message/delete",method:"post",signValidate:!0,data:t})}function k(t){return a.i(w.a)({url:"/api/admin/message/sendSys",method:"post",signValidate:!0,data:t})}e.a=i,e.x=n,e.u=s,e.v=r,e.w=l,e.t=o,e.o=d,e.l=u,e.m=c,e.n=p,e.p=m,e.s=g,e.q=h,e.r=f,e.j=v,e.k=b,e.g=y,e.h=_,e.i=C,e.e=S,e.f=V,e.c=q,e.d=z,e.b=k;var w=a(150),x=a(101);a.n(x)},738:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(658);e.default={data:function(){return{checkAll:!1,isIndeterminate:!0,loading:!0,adminList:[],ids:"",groupList:[],params:{pageNo:1,pageSize:20,queryUsername:"",queryEmail:"",queryDisabled:""},totalCount:0,currentPage:1,changePageSize:localStorage.getItem("PageSize"),disabled:!0}},methods:{getuserGroupList:function(){var t=this;i.a({groupType:-1}).then(function(e){t.groupList=e.body})},getAdminList:function(){var t=this,e=this.params;i.s(e).then(function(e){"100"==e.code?(t.adminList=e.body,t.totalCount=e.totalCount,t.loading=!1):t.loading=!1}).catch(function(e){t.loading=!1,t.$message.error("网络异常")})},addUser:function(){this.$router.push({path:"/adminadd",query:{type:"add",id:0}})},editUser:function(t){this.$router.push({path:"/adminedit",query:{type:"edit",id:t}})},deleteUser:function(t){var e=this;this.ids=t,this.$confirm("您确定要删除管理员吗?","警告",{type:"warning"}).then(function(t){i.p({ids:e.ids}).then(function(t){e.loading=!1,"100"==t.code?(e.$message.success("删除成功"),e.getAdminList()):e.$message.error(t.message)}).catch(function(t){e.loading=!1,e.$message.error("网络异常")})}).catch(function(t){})},deleteUserAll:function(){var t=this;this.$confirm("您确定要删除管理员吗?","警告",{type:"warning"}).then(function(e){i.p({ids:t.ids}).then(function(e){t.loading=!1,"100"==e.code?(t.$message.success("删除成功"),t.getAdminList()):t.$message.error(e.message)}).catch(function(e){t.loading=!1,t.$message.error("网络异常")})}).catch(function(t){})},selectQuery:function(t){this.getAdminList()},queryUserName:function(t){this.loading=!0,this.getAdminList()},getPage:function(t){this.loading=!0,this.params.pageNo=t,this.getAdminList()},getSize:function(t){this.loading=!0,this.params.pageNo=t,this.getAdminList()},changeSize:function(t){var e=t.target.value;e<1?(localStorage.setItem("PageSize",20),e=20):localStorage.setItem("PageSize",e),this.loading=!0,this.params.pageSize=parseInt(e),this.params.pageNo=1,this.currentPage=1,this.getAdminList()},checkIds:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);0==e.length?(this.ids="",this.disabled=!0):(this.ids=e.join(","),this.disabled=!1)}},created:function(){var t=localStorage.getItem("PageSize");null!=t?this.params.pageSize=parseInt(t):this.changePageSize=20,this.getuserGroupList(),this.getAdminList()}}},837:function(t,e,a){e=t.exports=a(570)(!1),e.push([t.i,"",""])},923:function(t,e,a){var i=a(837);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(571)("2758f213",i,!0)}});