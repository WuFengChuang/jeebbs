webpackJsonp([30],{1055:function(t,e,a){function s(t){a(1308)}var n=a(99)(a(1167),a(1394),s,null,null);t.exports=n.exports},1063:function(t,e,a){"use strict";function s(t){return a.i(k.a)({url:"/api/admin/group/list",method:"post",signValidate:!1,data:t})}function n(t){return a.i(k.a)({url:"/api/admin/group/delete",method:"post",signValidate:!0,data:t})}function i(t){return a.i(k.a)({url:"/api/admin/group/get",method:"post",signValidate:!1,data:t})}function r(t){return a.i(k.a)({url:"/api/admin/group/update",method:"post",signValidate:!0,data:t})}function o(t){return a.i(k.a)({url:"/api/admin/group/save",method:"post",signValidate:!0,data:t})}function u(t){return a.i(k.a)({url:"/api/admin/user/list",method:"post",signValidate:!1,data:t})}function l(t){return a.i(k.a)({url:"/api/admin/user/official_list",method:"post",signValidate:!1,data:t})}function d(t){return a.i(k.a)({url:"/api/admin/user/get",method:"post",signValidate:!1,data:t})}function c(t){return a.i(k.a)({url:"/api/admin/user/update",method:"post",signValidate:!0,data:t})}function p(t){return a.i(k.a)({url:"/api/admin/user/save",method:"post",signValidate:!0,data:t})}function m(t){return a.i(k.a)({url:"/api/admin/user/delete",method:"post",signValidate:!0,data:t})}function f(t){return a.i(k.a)({url:"/api/admin/admin/list",method:"post",signValidate:!1,data:t})}function g(t){return a.i(k.a)({url:"/api/admin/admin/update",method:"post",signValidate:!0,data:t})}function h(t){return a.i(k.a)({url:"/api/admin/admin/save",method:"post",signValidate:!0,data:t})}function v(t){return a.i(k.a)({url:"/api/admin/role/list",method:"post",signValidate:!1,data:t})}function I(t){return a.i(k.a)({url:"/api/admin/role/delete",method:"post",signValidate:!0,data:t})}function b(t){return a.i(k.a)({url:"/api/admin/role/get",method:"post",signValidate:!1,data:t})}function _(t){return a.i(k.a)({url:"/api/admin/role/update",method:"post",signValidate:!0,data:t})}function V(t){return a.i(k.a)({url:"/api/admin/account/list",method:"post",signValidate:!0,data:t})}function y(t){return a.i(k.a)({url:"/api/admin/account/delete",method:"post",signValidate:!0,data:t})}function $(t){return a.i(k.a)({url:"/api/admin/message/sys_list",method:"post",signValidate:!0,data:t})}function C(t){return a.i(k.a)({url:"/api/admin/message/delete",method:"post",signValidate:!0,data:t})}function x(t){return a.i(k.a)({url:"/api/admin/message/sendSys",method:"post",signValidate:!0,data:t})}e.a=s,e.w=n,e.t=i,e.u=r,e.v=o,e.s=u,e.n=l,e.k=d,e.l=c,e.m=p,e.o=m,e.r=f,e.p=g,e.q=h,e.i=v,e.j=I,e.g=b,e.h=_,e.e=V,e.f=y,e.c=$,e.d=C,e.b=x;var k=a(224),q=a(151);a.n(q)},1167:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1063);e.default={data:function(){return{loading:!0,userInfo:{content:"",toAll:!0,groupId:"",username:""},adminInfo:{},groupList:[],roleList:[],roleIds:[],rules:{groupId:[{type:"number",required:!0,message:"请选择一个会员组",trigger:"change"}],username:[{required:!0,message:"请输入接受消息的用户名",trigger:"change"}],content:[{required:!0,message:"请输入消息",trigger:"change"}]}}},methods:{getuserGroupList:function(){var t=this;s.a({groupType:-1}).then(function(e){t.groupList=e.body,t.loading=!1})},addSystemMessageInfo:function(t){var e=this;this.userInfo.toAll?this.$refs[t].validateField("content",function(t){if(""==t){var a=e.userInfo;s.b(a).then(function(t){"100"==t.code?(e.$message.success("发送成功"),setTimeout(function(){e.$router.push({path:"/systemmessagelist"})},500)):e.$message.error("发送失败")}).catch(function(t){e.$message.error("发送异常")})}}):this.$refs[t].validate(function(t){if(!t)return!1;var a=e.userInfo;s.b(a).then(function(t){"100"==t.code?(e.$message.success("发送成功"),setTimeout(function(){e.$router.push({path:"/systemmessagelist"})},500)):e.$message.error("发送失败")}).catch(function(t){e.$message.error("发送异常")})})},rulesChange:function(t){this.$refs.userInfo.resetFields()},resetForm:function(t){this.$route.query.id;this.$refs[t].resetFields()}},created:function(){this.getuserGroupList()}}},1223:function(t,e,a){e=t.exports=a(976)(!1),e.push([t.i,".el-checkbox-group>label{display:inline-block;margin-right:12px}",""])},1308:function(t,e,a){var s=a(1223);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(977)("5432db82",s,!0)},1394:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"forum-module"},[a("div",{staticClass:"forum-header"},[a("span",{staticClass:"forum-name"},[t._v(t._s(t.$route.name))]),t._v(" "),a("span",{staticClass:"forum-hint"},[t._v('带"*"号的为必填项')])]),t._v(" "),a("div",{staticClass:"table-body table-responsive"},[a("el-form",{ref:"userInfo",attrs:{rules:t.rules,model:t.userInfo}},[a("el-form-item",{staticClass:"form-group",attrs:{label:"发给所有人"}},[a("el-col",{attrs:{span:1}},[a("el-switch",{attrs:{"on-text":"是","off-text":"否"},on:{change:t.rulesChange},model:{value:t.userInfo.toAll,callback:function(e){t.$set(t.userInfo,"toAll",e)},expression:"userInfo.toAll"}})],1)],1),t._v(" "),t.userInfo.toAll?t._e():a("el-form-item",{staticClass:"form-group",attrs:{label:"会员组",prop:"groupId"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"用户组"},model:{value:t.userInfo.groupId,callback:function(e){t.$set(t.userInfo,"groupId",e)},expression:"userInfo.groupId"}},t._l(t.groupList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[t._v(" ")])],1),t._v(" "),t.userInfo.toAll?t._e():a("el-form-item",{staticClass:"form-group",attrs:{label:"用户名",prop:"username"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}})],1),t._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[t._v("* ")])],1),t._v(" "),a("el-form-item",{staticClass:"form-group",attrs:{label:"内容",prop:"content"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.userInfo.content,callback:function(e){t.$set(t.userInfo,"content",e)},expression:"userInfo.content"}})],1),t._v(" "),a("el-col",{staticClass:"required",attrs:{span:1}},[t._v("* ")])],1)],1),t._v(" "),a("div",{staticClass:"margin-md"},[a("input",{staticClass:"bbs-submit",attrs:{type:"button",value:"提交"},on:{click:function(e){t.addSystemMessageInfo("userInfo")}}}),t._v(" "),a("input",{staticClass:"bbs-reset",attrs:{type:"reset",value:"重置"},on:{click:function(e){t.resetForm("userInfo")}}})])],1)])},staticRenderFns:[]}}});