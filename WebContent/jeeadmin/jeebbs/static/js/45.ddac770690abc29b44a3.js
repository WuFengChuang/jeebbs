webpackJsonp([45],{611:function(t,a,e){function i(t){e(886)}var s=e(66)(e(705),e(973),i,null,null);t.exports=s.exports},658:function(t,a,e){"use strict";function i(t){return e.i(k.a)({url:"/api/admin/group/list",method:"post",signValidate:!1,data:t})}function s(t){return e.i(k.a)({url:"/api/admin/group/delete",method:"post",signValidate:!0,data:t})}function n(t){return e.i(k.a)({url:"/api/admin/group/get",method:"post",signValidate:!1,data:t})}function r(t){return e.i(k.a)({url:"/api/admin/group/update",method:"post",signValidate:!0,data:t})}function o(t){return e.i(k.a)({url:"/api/admin/group/save",method:"post",signValidate:!0,data:t})}function l(t){return e.i(k.a)({url:"/api/admin/user/list",method:"post",signValidate:!1,data:t})}function u(t){return e.i(k.a)({url:"/api/admin/user/official_list",method:"post",signValidate:!1,data:t})}function d(t){return e.i(k.a)({url:"/api/admin/user/get",method:"post",signValidate:!1,data:t})}function c(t){return e.i(k.a)({url:"/api/admin/user/update",method:"post",signValidate:!0,data:t})}function p(t){return e.i(k.a)({url:"/api/admin/user/save",method:"post",signValidate:!0,data:t})}function g(t){return e.i(k.a)({url:"/api/admin/user/delete",method:"post",signValidate:!0,data:t})}function m(t){return e.i(k.a)({url:"/api/admin/admin/list",method:"post",signValidate:!1,data:t})}function h(t){return e.i(k.a)({url:"/api/admin/admin/update",method:"post",signValidate:!0,data:t})}function f(t){return e.i(k.a)({url:"/api/admin/admin/save",method:"post",signValidate:!0,data:t})}function v(t){return e.i(k.a)({url:"/api/admin/role/list",method:"post",signValidate:!1,data:t})}function b(t){return e.i(k.a)({url:"/api/admin/role/delete",method:"post",signValidate:!0,data:t})}function _(t){return e.i(k.a)({url:"/api/admin/role/get",method:"post",signValidate:!1,data:t})}function S(t){return e.i(k.a)({url:"/api/admin/role/update",method:"post",signValidate:!0,data:t})}function y(t){return e.i(k.a)({url:"/api/admin/role/save",method:"post",signValidate:!0,data:t})}function V(t){return e.i(k.a)({url:"/api/admin/account/list",method:"post",signValidate:!0,data:t})}function C(t){return e.i(k.a)({url:"/api/admin/account/delete",method:"post",signValidate:!0,data:t})}function z(t){return e.i(k.a)({url:"/api/admin/message/sys_list",method:"post",signValidate:!0,data:t})}function L(t){return e.i(k.a)({url:"/api/admin/message/delete",method:"post",signValidate:!0,data:t})}function P(t){return e.i(k.a)({url:"/api/admin/message/sendSys",method:"post",signValidate:!0,data:t})}a.a=i,a.x=s,a.u=n,a.v=r,a.w=o,a.t=l,a.o=u,a.l=d,a.m=c,a.n=p,a.p=g,a.s=m,a.q=h,a.r=f,a.j=v,a.k=b,a.g=_,a.h=S,a.i=y,a.e=V,a.f=C,a.c=z,a.d=L,a.b=P;var k=e(150),x=e(101);e.n(x)},705:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(658);a.default={data:function(){return{checkAll:!1,isIndeterminate:!0,loading:!0,userList:[],ids:"",sort:this.$store.state.sort,lastLoginDay:this.$store.state.lastLoginDay,groupList:[],params:{pageNo:1,pageSize:20,orderBy:"",groupId:"",lastLoginDay:"",username:"",all:!0},totalCount:0,currentPage:1,changePageSize:localStorage.getItem("PageSize"),disabled:!0}},methods:{getuserGroupList:function(){var t=this;i.a({groupType:-1}).then(function(a){t.groupList=a.body})},getUserList:function(){var t=this,a=this.params;i.t(a).then(function(a){"100"==a.code?(t.userList=a.body,t.totalCount=a.totalCount,t.loading=!1):(t.loading=!1,t.$message.error(a.message))}).catch(function(a){t.loading=!1,t.$message.error("网络异常")})},back:function(){this.$router.push({path:"/magiclist",query:{noceStr:Math.round(10*Math.random())}})},selectUserAll:function(t){this.ids=t,localStorage.setItem("userIds",this.ids),this.$router.push({path:"/givemagic"})},selectQuery:function(t){this.getUserList()},queryUserName:function(t){this.loading=!0,this.getUserList()},getPage:function(t){this.loading=!0,this.params.pageNo=t,this.getUserList()},getSize:function(t){this.loading=!0,this.params.pageNo=t,this.getUserList()},changeSize:function(t){var a=t.target.value;a<1?(localStorage.setItem("PageSize",20),a=20):localStorage.setItem("PageSize",a),this.loading=!0,this.params.pageSize=parseInt(a),this.params.pageNo=1,this.currentPage=1,this.getUserList()},checkIds:function(t){for(var a=[],e=0;e<t.length;e++)a.push(t[e].id);0==a.length?(this.ids="",this.disabled=!0):(this.ids=a.join(","),this.disabled=!1)}},created:function(){var t=localStorage.getItem("PageSize");null!=t?this.params.pageSize=parseInt(t):this.changePageSize=20,this.getuserGroupList(),this.getUserList()}}},800:function(t,a,e){a=t.exports=e(570)(!1),a.push([t.i,"",""])},886:function(t,a,e){var i=e(800);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(571)("5495d726",i,!0)},973:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"forum-module"},[t._m(0),t._v(" "),e("div",{staticClass:"table-top-bar clearfix"},[e("button",{staticClass:"bbs-give",attrs:{disabled:t.disabled},on:{click:function(a){t.selectUserAll(t.ids)}}},[t._v("赠送")]),t._v(" "),e("div",{staticClass:"pull-right"},[e("div",{staticClass:"select-group pull-left"},[e("div",{staticClass:"select-horizontal",staticStyle:{width:"120px"}},[e("el-select",{attrs:{placeholder:"用户组"},on:{change:t.selectQuery},model:{value:t.params.groupId,callback:function(a){t.$set(t.params,"groupId",a)},expression:"params.groupId"}},[e("el-option",{attrs:{label:"所有分组",value:""}}),t._v(" "),t._l(t.groupList,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1)]),t._v(" "),e("div",{staticClass:"search-box"},[e("el-input",{attrs:{placeholder:"请输入用户名",icon:"search","on-icon-click":t.queryUserName},model:{value:t.params.username,callback:function(a){t.$set(t.params,"username",a)},expression:"params.username"}})],1)])]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("form",{staticClass:"form-horizontal no-margin"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userList},on:{"selection-change":t.checkIds}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"id",prop:"id",align:"center",width:55}}),t._v(" "),e("el-table-column",{attrs:{label:"用户名",prop:"username",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.username)),a.row.admin?e("span",{staticClass:"red"},[t._v("[管理员]")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"会员组",prop:"groupName",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"启用",prop:"disabled",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.disabled?e("span",{staticClass:"red"},[t._v("否")]):e("span",[t._v("是")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:200},scopedSlots:t._u([{key:"default",fn:function(a){return[e("a",{staticClass:"t-edit iconfont bbs-edit",attrs:{href:"javascript:void(0)",title:"赠送"},on:{click:function(e){t.selectUserAll(a.row.id)}}})]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"table-bottom-bar"},[e("div",{staticClass:"pull-left"},[e("span",{staticClass:"ml-48"},[t._v("每页显示\n                "),e("el-input",{staticClass:"input-sm",attrs:{type:"number",min:"1",max:"50"},on:{blur:t.changeSize},model:{value:t.changePageSize,callback:function(a){t.changePageSize=a},expression:"changePageSize"}}),t._v("条,输入后按回车")],1)]),t._v(" "),e("div",{staticClass:"pull-right"},[e("el-pagination",{attrs:{layout:"total,prev, pager, next",total:t.totalCount,"page-size":t.params.pageSize,"current-page":t.currentPage},on:{"update:currentPage":function(a){t.currentPage=a},"current-change":t.getPage,"size-change":t.getSize}})],1)])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"forum-header"},[e("span",{staticClass:"forum-name"},[t._v("用户列表")])])}]}}});