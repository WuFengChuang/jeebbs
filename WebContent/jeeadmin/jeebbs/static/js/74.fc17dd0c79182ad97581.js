webpackJsonp([74],{1013:function(t,e,i){function a(t){i(1291)}var s=i(99)(i(1125),i(1377),a,null,null);t.exports=s.exports},1125:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(364);e.default={data:function(){return{loading:!0,friendLinkCtgList:[],magicList:[],ids:"",groupList:[],params:{pageNo:1,pageSize:20,queryCtgId:""},totalCount:0,currentPage:1,changePageSize:localStorage.getItem("PageSize"),disabled:!0}},methods:{getMagicList:function(){var t=this,e=this.params;a.s(e).then(function(e){if(console.log(e),"100"==e.code){for(var i=0;i<e.body.length;i++)e.body[i].giveNum=0;t.magicList=e.body,t.loading=!1}else t.loading=!1,t.$message.error(e.message)}).catch(function(e){t.loading=!1,t.$message.error("数据拉取异常")})},savePriority:function(){var t=this;this.loading=!0;for(var e=[],i=0;i<this.magicList.length;i++)e.push(this.magicList[i].giveNum);var s={userIds:localStorage.getItem("userIds"),ids:this.ids,nums:e.join(",")};a.t(s).then(function(e){"100"==e.code?(t.loading=!1,t.$message.success("赠送成功"),localStorage.removeItem("userIds"),setTimeout(function(){t.$router.push({path:"/magiclist"})})):(t.loading=!1,t.$message.error("赠送失败"))}).catch(function(e){t.loading=!1,t.$message.error("赠送异常")})},setConfig:function(){this.$router.push({path:"/magicconfig"})},back:function(){this.$router.push({path:"/magiclist",query:{noceStr:Math.round(10*Math.random())}})},checkIds:function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].id);0==e.length?(this.ids="",this.disabled=!0):(this.ids=e.join(","),this.disabled=!1)}},created:function(){var t=localStorage.getItem("PageSize");null!=t?this.params.pageSize=parseInt(t):this.changePageSize=20,this.getMagicList()},watch:{$route:function(t,e){this.loading=!0,this.getMagicList()}}}},1206:function(t,e,i){e=t.exports=i(976)(!1),e.push([t.i,"",""])},1291:function(t,e,i){var a=i(1206);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(977)("0eb6908f",a,!0)},1377:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"forum-module"},[t._m(0),t._v(" "),i("div",{staticClass:"table-top-bar clearfix"},[i("el-button",{attrs:{disabled:t.disabled,type:"warning"},on:{click:t.savePriority}},[t._v("赠送")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.setConfig}},[t._v("配置")])],1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-responsive"},[i("form",{staticClass:"form-horizontal no-margin"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.magicList},on:{"selection-change":t.checkIds}},[i("el-table-column",{attrs:{type:"selection",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"id",prop:"id",align:"center",width:50}}),t._v(" "),i("el-table-column",{attrs:{label:"名称",prop:"name",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"数量",prop:"giveNum",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{staticStyle:{width:"40%"},attrs:{type:"number"},model:{value:e.row.giveNum,callback:function(i){t.$set(e.row,"giveNum",t._n(i))},expression:"scope.row.giveNum"}})]}}])})],1)],1)]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"forum-header"},[i("span",{staticClass:"forum-name"},[t._v("礼物列表")]),t._v(" "),i("div",{staticClass:"pull-right"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-bottom-bar"},[i("div",{staticClass:"pull-left"})])}]}}});